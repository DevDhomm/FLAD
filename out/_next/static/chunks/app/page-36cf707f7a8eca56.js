(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3156:e=>{e.exports={deleteButton:"dashboard_deleteButton__58Ewz",addButton:"dashboard_addButton__LNsbW",hoverText:"dashboard_hoverText__2tO7j",dashboard:"dashboard_dashboard__8Zxv5",form:"dashboard_form__bl1Rm",history:"dashboard_history___yVEU",deposit:"dashboard_deposit__XBZq5",withdrawal:"dashboard_withdrawal__fJ0bD",body:"dashboard_body__dFXI9",analytics:"dashboard_analytics__boRte",analytic:"dashboard_analytic__w4buX",analytic1:"dashboard_analytic1__hMV8d",statsGrid:"dashboard_statsGrid__C3DHo",statCard:"dashboard_statCard__hcLKa"}},3526:(e,t,a)=>{Promise.resolve().then(a.bind(a,5758))},5064:e=>{e.exports={page:"page_page__ZU32B",container:"page_container__aoG4z",inputs:"page_inputs__926m6",main:"page_main__GlU4n",ctas:"page_ctas__g5wGe",primary:"page_primary__V8M9Y",secondary:"page_secondary__lm_PT",footer:"page_footer__sHKi3",logo:"page_logo__7fc9l"}},5758:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var s=a(9868),r=a(5776);a(7425);var d=a(5064),i=a(3156),l=a.n(i),n=a(2773),o=a(9862);a(5913);let c=()=>{localStorage.getItem("userFinance");let[e,t]=(0,r.useState)("deposit"),[a,d]=(0,r.useState)(!1),[i,c]=(0,r.useState)([]),[h,p]=(0,r.useState)({deposits:0,withdrawals:0}),[u,x]=(0,r.useState)({deposit:{},withdrawal:{}}),j=localStorage.getItem("money")||"$";async function _(t){t.preventDefault();let a=[...i,{type:e,amount:t.target[1].value,description:t.target[2].value||"",timestamp:Date.now()}];c(a),localStorage.setItem("transactions",JSON.stringify(a)),m(a),d(!1)}function m(e){p({deposits:e.filter(e=>"deposit"===e.type).reduce((e,t)=>e+parseFloat(t.amount),0),withdrawals:e.filter(e=>"withdrawal"===e.type).reduce((e,t)=>e+parseFloat(t.amount),0)});let t={},a={};e.forEach(e=>{let s=new Date(e.timestamp).toLocaleDateString();"deposit"===e.type?t[s]=(t[s]||0)+parseFloat(e.amount):"withdrawal"===e.type&&(a[s]=(a[s]||0)+parseFloat(e.amount))}),x({deposit:t,withdrawal:a})}(0,r.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("transactions"))||[];c(e),m(e)},[]);let b={labels:["D\xe9p\xf4t","Retrait"],datasets:[{label:"Montant total",data:[h.deposits,h.withdrawals],borderColor:["rgba(75, 192, 192, 1)","rgba(255, 99, 132, 1)"],backgroundColor:["rgba(75, 192, 192, 0.2)","rgba(255, 99, 132, 0.2)"],borderWidth:1}]},g=Object.keys(u.deposit).sort(),v=g.map(e=>u.deposit[e]||0),y=g.map(e=>u.withdrawal[e]||0);return n.t1.register(n.PP,n.kc,n.E8,n.hE,n.m_,n.s$,n.Bs),(0,s.jsxs)(s.Fragment,{children:[a&&(0,s.jsx)("div",{className:l().dashboard,children:(0,s.jsxs)("div",{className:l().form,children:[(0,s.jsxs)("h3",{children:["Ajouter une transaction",(0,s.jsx)("button",{className:l().close,onClick:()=>d(!1),children:"Fermer"})]}),(0,s.jsxs)("form",{onSubmit:_,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Type de transaction"}),(0,s.jsxs)("select",{value:e,onChange:e=>t(e.target.value),children:[(0,s.jsx)("option",{value:"deposit",children:"D\xe9p\xf4t"}),(0,s.jsx)("option",{value:"withdrawal",children:"Retrait"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Montant"}),(0,s.jsx)("input",{required:!0,type:"number"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Description"}),(0,s.jsx)("input",{type:"text"})]}),(0,s.jsx)("button",{type:"submit",children:"Ajouter une transaction"})]})]})}),(0,s.jsxs)("button",{className:l().addButton,onClick:()=>d(!0),children:[(0,s.jsx)("img",{src:"/add.svg",alt:"add"}),(0,s.jsx)("span",{className:l().hoverText,children:"Ajouter"})]}),(0,s.jsxs)("div",{className:l().body,children:[(0,s.jsxs)("div",{className:l().statsGrid,children:[(0,s.jsxs)("div",{className:l().statCard,children:[(0,s.jsx)("h3",{children:"Nombre de transactions"}),(0,s.jsx)("p",{children:i.length})]}),(0,s.jsxs)("div",{className:l().statCard,children:[(0,s.jsx)("h3",{children:"Montant total des d\xe9p\xf4ts"}),(0,s.jsxs)("p",{children:[h.deposits," ",j," "]})]}),(0,s.jsxs)("div",{className:l().statCard,children:[(0,s.jsx)("h3",{children:"Montant total des retraits"}),(0,s.jsxs)("p",{children:[h.withdrawals," ",j," "]})]}),(0,s.jsxs)("div",{className:l().statCard,style:{backgroundColor:h.deposits>=h.withdrawals?"rgba(75, 192, 192, 0.2)":"rgba(255, 99, 132, 0.2)"},children:[(0,s.jsx)("h3",{children:"Solde"}),(0,s.jsxs)("p",{children:[h.deposits-h.withdrawals," ",j]})]})]}),(0,s.jsxs)("div",{className:l().analytics,children:[(0,s.jsx)("div",{className:l().analytic1,children:(0,s.jsx)(o.Fq,{data:b,options:{responsive:!0,plugins:{title:{display:!0,text:"Montant total des transactions"}}}})}),(0,s.jsx)("div",{className:l().analytic,children:(0,s.jsx)(o.N1,{data:{labels:g,datasets:[{label:"D\xe9p\xf4ts",data:v,fill:!1,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",borderWidth:1},{label:"Retraits",data:y,fill:!1,borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)",borderWidth:1}]},options:{responsive:!0,plugins:{title:{display:!0,text:"Montant des d\xe9p\xf4ts et retraits par jour"}}}})})]}),(0,s.jsxs)("div",{className:l().history,children:[(0,s.jsx)("h3",{children:"Liste des transactions"}),(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Type"}),(0,s.jsx)("th",{children:"Montant"}),(0,s.jsx)("th",{children:"Description"}),(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"Action"})]})}),(0,s.jsx)("tbody",{children:i.map(e=>(0,s.jsxs)("tr",{className:"deposit"===e.type?l().deposit:l().withdrawal,children:[(0,s.jsx)("td",{children:"deposit"===e.type?"D\xe9p\xf4t":"Retrait"}),(0,s.jsxs)("td",{children:[e.amount," ",j," "]}),(0,s.jsx)("td",{children:e.description}),(0,s.jsx)("td",{children:new Date(e.timestamp).toLocaleString()}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{className:l().deleteButton,onClick:()=>(function(e){let t=i.filter(t=>t.timestamp!==e);c(t),localStorage.setItem("transactions",JSON.stringify(t)),m(t)})(e.timestamp),children:(0,s.jsx)("img",{src:"/trash.svg",alt:"delete"})})})]},e.timestamp))})]})]})]})]})};function h(){let[e,t]=(0,r.useState)("home"),[a,i]=(0,r.useState)(""),[l,n]=(0,r.useState)("$");return(0,r.useEffect)(()=>{let e=localStorage.getItem("userFinance");e&&(i(e),t("dashboard"))},[]),(0,s.jsxs)(s.Fragment,{children:["home"===e&&(0,s.jsxs)("div",{className:d.container,children:[(0,s.jsx)("h1",{children:"Bienvenue"}),(0,s.jsxs)("div",{className:d.inputs,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"",children:"Entrez votre nom (optionnel)"}),(0,s.jsx)("input",{type:"text",placeholder:"Enter your name",value:a,onChange:e=>i(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Devise"}),(0,s.jsxs)("select",{value:l,onChange:e=>n(e.target.value),children:[(0,s.jsx)("option",{value:"$",children:"Dollar (USD)"}),(0,s.jsx)("option",{value:"â‚¬",children:"Euro (EUR)"}),(0,s.jsx)("option",{value:"\xa3",children:"Livre Sterling (GBP)"}),(0,s.jsx)("option",{value:"\xa5",children:"Yen (JPY)"}),(0,s.jsx)("option",{value:"XOF",children:"Franc CFA (XOF)"})]})]}),(0,s.jsx)("button",{onClick:()=>{localStorage.setItem("userFinance",a),localStorage.setItem("money",l),t("dashboard")},children:"Suivant"})]})]}),"dashboard"===e&&(0,s.jsx)(c,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[325,460,267,892,323,358],()=>t(3526)),_N_E=e.O()}]);